{% extends 'base.html' %}
{% load static %}

{% block title1 %}
  <title>LJ VirtualLab | Update Admin</title>
{% endblock title1 %}

{% block Name %}
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>Update Admin</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
          <li class="breadcrumb-item active">update_admin</li>
        </ol>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block NewContent %}
<section class="content">
  <div class="container-fluid">
    {% if error %}
      <div class="text-danger">{{ error }}</div>
    {% endif %}
    <div class="row">
      <div class="col-md-3">

        <div class="card card-primary card-outline">
          <div class="card-body box-profile table-responsive">
            <div class="text-center">
              Updating Profile of<br><br>
            </div>
            {% if update_admin.admin_image %}
            <div class="text-center">
              <img class="profile-user-img img-fluid img-circle" src="{{ update_admin.admin_image.url }}" alt="User profile picture">
            </div>
            {% endif %}
            <h3 class="profile-username text-center">{{ update_admin.admin_name }}</h3>
              {% if update_admin.permissions_admin_id %}
                <p class="text-muted text-center">({{ update_admin.permissions_admin_id.get }})</p>
              {% endif %}
            
            <div class="card-body table-responsive">

              <hr>

              <strong><i class="far fa-file-alt mr-1"></i> Email</strong>
              <br>
              <p class="text-muted">{{ update_admin.account_id.email }}</p>

              <hr>

              <strong><i class="fas fa-pencil-alt mr-1"></i> Contact No.</strong>
              <br>
              <p class="text-muted">{{ update_admin.admin_contact_number }}</p>

              <hr>
              
              {% if update_permissions %}
              <strong># Permissions</strong><br>
              {% endif %}

              {% if update_permissions.can_view %}
              <span class="badge bg-success">View</span>
              {% else %}
              <span class="badge bg-danger">View</span>
              {% endif %}
              
              {% if update_permissions.can_insert %}
              <span class="badge bg-success">Insert</span>
              {% else %}
              <span class="badge bg-danger">Insert</span>
              {% endif %}

              {% if update_permissions.can_edit %}
              <span class="badge bg-success">Update</span>
              {% else %}
              <span class="badge bg-danger">Update</span>
              {% endif %}

              {% if update_permissions.can_delete %}
              <span class="badge bg-success">Delete</span>
              {% else %}
              <span class="badge bg-danger">Delete</span>
              {% endif %}

            </div>
          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="card card-primary">
          <div class="card-header">
            <div class="nav nav-pills">
              <span class="nav-item">Update Profile</span>
            </div>
          </div>
          <div class="card-body">
            <div class="tab-content">
                <form method="POST" class="form-horizontal" enctype="multipart/form-data" autocomplete="off">
                  {% csrf_token %}
                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Admin Name</label>
                    <div class="col-sm-10">
                      <input type="text" name="nm1" class="form-control form-control-border" id="inputName" value="{{ update_admin.admin_name }}" placeholder="Admin Name" required>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Contact No.</label>
                    <div class="col-sm-10">
                      <input type="text" name="cno1" class="form-control form-control-border" id="inputName" value="{{ update_admin.admin_contact_number }}" placeholder="Contact No.">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="inputImage" class="col-sm-2 col-form-label">Profile</label>
                    <div class="col-sm-10">
                      <div>
                        {% if update_admin.admin_image %}
                          <img src="{{update_admin.admin_image.url}}" width="100px">
                        {% endif %}
                      </div>
                      <input type="file" name="prof1" class="form-control form-control-border" id="inputImage" placeholder="Profile">
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Can View</label>
                    <div class="col-sm-10">
                      {% if update_permissions.can_view %}
                        <input type="radio" name="can_view" value="true" id="InputCheckbox" style="margin-top: 15px;" checked> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_view" value="false" id="InputCheckbox" style="margin-top: 15px;">
                        <label for="InputCheckbox">No</label>
                      {% else %}
                        <input type="radio" name="can_view" value="true" id="InputCheckbox" style="margin-top: 15px;"> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_view" value="false" id="InputCheckbox" style="margin-top: 15px;" checked>
                        <label for="InputCheckbox">No</label>
                      {% endif %}
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Can Insert</label>
                    <div class="col-sm-10">
                      {% if update_permissions.can_insert %}
                        <input type="radio" name="can_insert" value="true" id="InputCheckbox" style="margin-top: 15px;" checked> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_insert" value="false" id="InputCheckbox" style="margin-top: 15px;">
                        <label for="InputCheckbox">No</label>
                      {% else %}
                        <input type="radio" name="can_insert" value="true" id="InputCheckbox" style="margin-top: 15px;"> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_insert" value="false" id="InputCheckbox" style="margin-top: 15px;" checked>
                        <label for="InputCheckbox">No</label>
                      {% endif %}
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Can Update</label>
                    <div class="col-sm-10">
                      {% if update_permissions.can_edit %}
                        <input type="radio" name="can_edit" value="true" id="InputCheckbox" style="margin-top: 15px;" checked> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_edit" value="false" id="InputCheckbox" style="margin-top: 15px;">
                        <label for="InputCheckbox">No</label>
                      {% else %}
                        <input type="radio" name="can_edit" value="true" id="InputCheckbox" style="margin-top: 15px;"> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_edit" value="false" id="InputCheckbox" style="margin-top: 15px;" checked>
                        <label for="InputCheckbox">No</label>
                      {% endif %}
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Can Delete</label>
                    <div class="col-sm-10">
                      {% if update_permissions.can_delete %}
                        <input type="radio" name="can_delete" value="true" id="InputCheckbox" style="margin-top: 15px;" checked> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_delete" value="false" id="InputCheckbox" style="margin-top: 15px;">
                        <label for="InputCheckbox">No</label>
                      {% else %}
                        <input type="radio" name="can_delete" value="true" id="InputCheckbox" style="margin-top: 15px;"> 
                        <label for="InputCheckbox">Yes</label>
                        <input type="radio" name="can_delete" value="false" id="InputCheckbox" style="margin-top: 15px;" checked>
                        <label for="InputCheckbox">No</label>
                      {% endif %}
                    </div>
                  </div>

                  <div class="form-group row">
                    <div class="offset-sm-2 col-sm-10">
                      <button type="submit" class="btn btn-success">Update Profile</button>
                    </div>
                  </div>
                </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}